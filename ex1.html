<!DOCTYPE html>

<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Departamentos</title>
</head>

<body>
  <div>
    <ul id="departamentos"></ul>
    <hr />
    <h3>Endere√ßo:</h3>

    <p>
      <label>CEP</label>
      <input type="text" id="cep" onblur="getCep(this.value)" />
    </p>

    <p>
      <label>Rua:</label>
      <input type="text" id="rua" />
    </p>

    <p>
      <label>Complemento:</label>
      <input type="text" id="complemento" />
    </p>

    <p>
      <label>Bairro:</label>
      <input type="text" id="bairro" />
    </p>

    <p>
      <label>Cidade:</label>
      <input type="text" id="localidade" />
    </p>

    <p>
      <label>Estado:</label>
      <input type="text" id="uf" />
    </p>

    <p>
      <label>Ibge:</label>
      <input type="text" id="ibge" />
    </p>
  </div>
</body>

<script>
  function getCep(cep) {
    fetch(`https://viacep.com.br/ws/${cep}/json/`)
      .then((response) => response.json())
      .then((data) => preencherCep(data))
      .catch((error) => alert(error));
  }

  function preencherCep(data) {
    document.getElementById("rua").value = data.logradouro;
    document.getElementById("complemento").value = data.complemento;
    document.getElementById("bairro").value = data.bairro;
    document.getElementById("localidade").value = data.localidade;
    document.getElementById("uf").value = data.uf;
    document.getElementById("ibge").value = data.ibge;
  }
</script>

</html>